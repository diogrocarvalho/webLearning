<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Desenvolvimento de Software para WEB I</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">        
    </head>
    <body>
        <!-- 
            Construa um botão que leia o nome do usuário e a  quantidade de produtos no consumidos no 
            restaurante do Grego da UFAL e calcule a fatura final. Os produtos comercializados são os seguintes:
            Prato self-service  R$ 14 reais o Kg
            Suco R$ 3,00 copo
            Sobremessa  R$ 2,00 o prato
        -->

        <h1>Calcular conta</h1>
        <br><br>
        <label for="name">Nome:</label>
        <input type="text" name="name" id="name" placeholder="Digite o nome">
        <br><br>
        <label for="quantity">Peso consumido (gramas)</label>
        <input id="quantityConsumed" type="number" value="0" name="quantityConsumed" >
        <br><br>
        <label for="juice">Copos de suco</label>
        <input type="number" name="juice" id="juice" value="0" placeholder="Quantidade de suco consumida">
        <br><br>
        <label for="dessert">Sobremesa</label>
        <input type="number" name="dessert" id="dessert" value="0" placeholder="Quantidade de sobremesa consumida">
        <br><br>
        <input type="button" name="generateBillButton" value="Calcular conta" onclick="generateBill()">
        <br><br>
        <div id="answer"></div>

        <script>
            function generateBill(){
                var selfServicePrice = 14.00,
                    juicePrice = 3.00,
                    dessertPrice = 2.00;

                var name = document.getElementById('name').value,
                    quantityConsumed = parseFloat(document.getElementById('quantityConsumed').value),
                    juice = parseFloat(document.getElementById('juice').value),
                    dessert = parseFloat(document.getElementById('dessert').value);                    

                if(name && quantityConsumed >=0 && juice >=0 && dessert >=0){
                    var totalSelfService = (quantityConsumed/1000)*14.00,
                        totalJuice = juice * juicePrice,
                        totalDessert = dessert * dessertPrice;

                    var totalBill = totalSelfService + totalJuice + totalDessert;
                        
                    document.getElementById('answer').innerHTML = name+"<br><br> consumiu:<br><br>"+ quantityConsumed +" gramas no self-service R$" + totalSelfService.toFixed(2) +
                        " reais<br><br>"+ juice + " sucos R$ "+ totalJuice +" reais<br><br>"+dessert +" pratos de sobremesa R$ "+totalDessert +
                        " reais<br><br> Total "+totalBill.toFixed(2)+" reais";
                }else{
                    document.getElementById('answer').innerHTML = "Não foi possível gerar a conta!!! <br><br>Verifique os dados inseridos. Não é permitido valores nulos ou inferiores a zero.";
                }
            }
        </script>
    
    </body>
</html>